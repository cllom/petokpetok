{% extends "base.html" %} {% block title %}Edit{% endblock %}

{% block content %}
<h2>Your Posts</h2>

<ul class="list-group list-group-flash" id="notes">
	{% for note in user.notes %}
	{% if note.boardID == board %}
	<li class="list-group-item d-flex justify-content-between align-items-center">
		{{ note.date}} &emsp; {{ note.data }} 
		{% if note.img is not none %}
			<img src="data:image/jpeg;base64,{{ note.img }}" width="100px" />
		{% endif %}
		<button class="close" type="button" onclick="deleteNote({{ note.id }})">
			<span aria-hidden="true">&times;</span>
		</button>
	</li>
	{% endif %}
	{% endfor %}
</ul>


<form method="post" enctype="multipart/form-data">
	<label for="image-upload" class="btn btn-primary">Upload image to Event
		<input type="file" name="image-upload" id="image-upload" accept="image/png, image/jpeg" hidden>
	</label>

	<textarea name="note" id="note" class="form-control"></textarea>
	<div align="center">
		<button type="submit" class="btn btn-primary">Add Event</button>
	</div>
</form>

<div class="dropdown show">

	<h2 class="nav-item nav-link">Your Boards</h2>
		<a type="button" class="dropdown-item" data-toggle="modal" data-target="#exampleModalCenter">
			Create ...
		</a>
		{% for bb in user.boards %}
		<a class="dropdown-item" href="/{{user.firstName}}/{{bb.url}}"> {{ bb.url }} </a>
		{% endfor %}
	
	<!-- Modal -->
	<div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
		<div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
			<div class="modal-header">
				<h5 class="modal-title" id="exampleModalLongTitle">Create a new board</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
					<span aria-hidden="true">&times;</span>
        </button>
			</div>
			<form method="post" action="{{ url_for('views.create') }}">
      	<div class="modal-body">
						<div class="form-group">
							<label for="boardName">Board Name</label>
							<input type="text" name="boardName" id="boardName" class="form-control" placeholder="Enter unique name for board"/>
						</div>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
					<button type="submit" class="btn btn-primary">Save</button>
				</div>
			</form>
		</div>
  	</div>
	</div>

</div>
{% endblock %}